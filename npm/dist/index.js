!function(n,e){for(var r in e)n[r]=e[r]}(exports,function(n){var e={};function r(t){if(e[t])return e[t].exports;var o=e[t]={i:t,l:!1,exports:{}};return n[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=n,r.c=e,r.d=function(n,e,t){r.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,e){if(1&e&&(n=r(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var o in n)r.d(t,o,function(e){return n[e]}.bind(null,o));return t},r.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(e,"a",e),e},r.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},r.p="",r(r.s=2)}([function(n,e){n.exports=function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}},function(n,e){function r(n,e){for(var r=0;r<e.length;r++){var t=e[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}n.exports=function(n,e,t){return e&&r(n.prototype,e),t&&r(n,t),n}},function(n,e,r){"use strict";r.r(e);var t=r(0),o=r.n(t),a=r(1),i=r.n(a),c={SEARCH_ERR_CLASS:"",SAME_ATOM:"请检查注入原子：__，不能有相同的原子。",EXTEND_NOT_FOUND:"请检查继承原子：__是否存在。",SAME_ASSEMBLY:"assembly：__，存在相同的个体，分别存在于atom：~~，请使用assembly+atom进行调用。",NO_EXTEND_THROUGH:"logic：__中没有继承~~，无法做有限透传，请检查through配置参数。"},u={};["String","Number","Boolean","Function","Array","RegExp","Error","HTMLDocument","global","Symbol","Undefined","Null"].forEach((function(n){var e="is".concat(n);u[e]=function(e){return function(n){return/ (.+)]$/.exec(Object.prototype.toString.call(n))[1]}(e)===n}}));var f=u,s={},l={setValue:function(n,e){s[n]=e},getValue:function(n){return s[n]}},h={},p={};function g(n,e,r){for(var t in e)n[t]?n[t][r]=e[t]:1===p[t].length?n[t]=e[t]:n[t]?n[t][r]=e[t]:(n[t]={},n[t][r]=e[t])}var m=function(){function n(){o()(this,n)}return i()(n,[{key:"setBasics",value:function(n){var e=this;n.forEach((function(n){if(h[n.name])throw new Error("".concat(c.SAME_ATOM.replace(/__/,n.name)));for(var r in h[n.name]=n,n.assembly)p[r]?p[r].indexOf(n.name)<0&&p[r].push(n.name):(p[r]=[],p[r].push(n.name));e[n.name]=n.assembly})),l.setValue("atomMapping",p)}},{key:"machiningBasics",value:function(n){var e=this;console.log("useBasics",n);var r={};if(n){if(f.isArray(n)&&n.forEach((function(t){if(!h[t])throw new Error("".concat(c.EXTEND_NOT_FOUND.replace(/__/,n)));g(r,e[t],t)})),f.isString(n)){if(!h[n])throw new Error("".concat(c.EXTEND_NOT_FOUND.replace(/__/,n)));g(r,this[n],n)}}else Object.keys(this).forEach((function(n){g(r,e[n],n)}));return console.log("output",r),r}}]),n}(),v={replaceData:function(n,e,r){var t="";e.forEach((function(n){t+="(".concat(n,")|")}));var o=new RegExp(t.substr(0,t.length-1),"g");return n.replace(o,(function(n){var t=e.indexOf(n),o="";return t>-1&&(o=r[t]),o}))}};var y=function(){function n(){o()(this,n)}return i()(n,[{key:"setPackage",value:function(n,e,r){r&&(n.through=!1);var t=function(n){for(var e in n)this[e]=n[e].bind(this)};return t.prototype=e,function(n,e){var r=new n(e.assembly),t={},o=l.getValue("atomMapping"),a=function(n){!1===e.through?r.hasOwnProperty(n)&&(t[n]=r[n]):f.isArray(e.through)?r.hasOwnProperty(n)?t[n]=r[n]:e.through.forEach((function(a){var i=Object.keys(a)[0];a[i].forEach((function(a){if(!(void 0===e.extends||e.extends===i||e.extends.indexOf(i)>-1))throw new Error(v.replaceData(c.NO_EXTEND_THROUGH,["__","~~"],[e.name,n]));o[a]&&(o[a].length>1?t[a]?t[a][i]=r[a][i]:(t[a]={},t[a][i]=r[a][i]):t[a]=r[a])}))})):!0===e.through&&(t[n]=r[n])};for(var i in r)a(i);return t}(t,n)}}]),n}();r.d(e,"injection",(function(){return d})),r.d(e,"getMateriel",(function(){return O}));var _=new m,E=new y,b={},d=function(n){n.atom.forEach((function(e,r){if(0!==r){var t=[];n.atom[r].forEach((function(n){var e=_.machiningBasics(n.extends);t.push({name:n.name,assembly:E.setPackage(n,e,!0)})})),_.setBasics(t)}else _.setBasics(n.atom[r])})),n.package.forEach((function(n){var e=_.machiningBasics(n.extends);console.warn("组装类".concat(n.name,"继承的原子："),e),b[n.name]=E.setPackage(n,e)}))},O=function(n){var e={};if(n){if(Array.isArray(n))return n.forEach((function(n){e[n]=b[n]}));e=b[n]}else e=b;return e}}]));